<div #detailsToggle hidden data-toggle="modal" data-target="#deviceDetailsModal"></div>

<div class="modal fade" id="deviceDetailsModal" data-backdrop="static">

    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <h4>Device Details</h4>
            </div>
    
            <div class="modal-body">

                <div *ngIf="selectedDevice; then show else emptyMessage"></div>
                <ng-template #show>
                    <div class="mb-3 mt-3">
                        <dl class="row" *ngIf="selectedDevice">
                            <dt class="col-4">Device Serial Number:</dt>
                            <dl class="col-8">{{selectedDevice.serialNumber}}</dl>
                            <dt class="col-4">Device Description:</dt>
                            <dl class="col-8">{{selectedDevice.description}}</dl>
                            <dt class="col-4">Device Type:</dt>
                            <dl class="col-8">{{selectedDevice.type}}</dl>
                            <dt class="col-4">Device Status:</dt>
                            <dl class="col-8" *ngIf="!selectedDeviceEmployee; then free else assigned"></dl>
                            <ng-template #free>Free</ng-template>
                            <ng-template #assigned>Assigned to employee</ng-template>
                        </dl>
                    </div>

                    <div *ngIf="selectedDeviceEmployee">
                        <div class="row mb-1">
                            <h5 class="col-12">Assigned To:</h5>
                        </div>
                        <table class="table lightweight-table" >
                            <thead>
                                <tr>
                                    <th class="text-center">Employee Id</th>
                                    <th class="text-center">Employee Name</th>
                                    <th class="text-center">Employee Email</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">{{selectedDeviceEmployee.id}}</td>
                                    <td class="text-center">{{selectedDeviceEmployee.name}}</td>
                                    <td class="text-center">{{selectedDeviceEmployee.email}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </ng-template>
                
                <ng-template #emptyMessage>
                    <p>Something failed and we cannot load the device.</p>
                    <p>Please try again...</p>
                </ng-template>
               
            </div>
    
            <div class="modal-footer">
                <button class="btn btn-danger ml-2" data-dismiss="modal" (close)="closeDetails()">Close</button>
            </div>

        </div>
    </div>

</div>